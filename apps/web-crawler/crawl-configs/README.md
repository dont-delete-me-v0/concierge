# üóÇÔ∏è Crawler Configurations

–≠—Ç–∞ –ø–∞–ø–∫–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –¥–ª—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö web-crawler'–æ–≤.

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞

```
crawl-configs/
‚îú‚îÄ‚îÄ concert.ua/
‚îÇ   ‚îî‚îÄ‚îÄ kyiv/
‚îÇ       ‚îú‚îÄ‚îÄ business/config.json         # –ë—ñ–∑–Ω–µ—Å –ø–æ–¥—ñ—ó
‚îÇ       ‚îú‚îÄ‚îÄ concerts/config.json         # –ö–æ–Ω—Ü–µ—Ä—Ç–∏
‚îÇ       ‚îú‚îÄ‚îÄ dance/config.json            # –¢–∞–Ω—Ü—ñ
‚îÇ       ‚îú‚îÄ‚îÄ electronic/config.json       # –ï–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞ –º—É–∑–∏–∫–∞
‚îÇ       ‚îú‚îÄ‚îÄ excursions/config.json       # –ï–∫—Å–∫—É—Ä—Å—ñ—ó
‚îÇ       ‚îú‚îÄ‚îÄ festivals/config.json        # –§–µ—Å—Ç–∏–≤–∞–ª—ñ
‚îÇ       ‚îú‚îÄ‚îÄ humor/config.json            # –ì—É–º–æ—Ä/Stand-up
‚îÇ       ‚îú‚îÄ‚îÄ kids/config.json             # –î–∏—Ç—è—á—ñ –ø–æ–¥—ñ—ó
‚îÇ       ‚îú‚îÄ‚îÄ new-year/config.json         # –ù–æ–≤–æ—Ä—ñ—á–Ω—ñ –ø–æ–¥—ñ—ó
‚îÇ       ‚îú‚îÄ‚îÄ other/config.json            # –Ü–Ω—à–µ
‚îÇ       ‚îú‚îÄ‚îÄ sport/config.json            # –°–ø–æ—Ä—Ç
‚îÇ       ‚îú‚îÄ‚îÄ theater/config.json          # –¢–µ–∞—Ç—Ä
‚îÇ       ‚îî‚îÄ‚îÄ tvorchii-vechir/config.json  # –¢–≤–æ—Ä—á—ñ –≤–µ—á–æ—Ä–∏
‚îî‚îÄ‚îÄ README.md                             # –¶–µ–π —Ñ–∞–π–ª
```

## üîß –§–æ—Ä–º–∞—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

–ö–∞–∂–¥—ã–π –∫–æ–Ω—Ñ–∏–≥ —Å–æ–¥–µ—Ä–∂–∏—Ç:

- `url` - URL –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞
- `source_base_url` - –ë–∞–∑–æ–≤—ã–π URL –∏—Å—Ç–æ—á–Ω–∏–∫–∞
- `category_name` - –ù–∞–∑–≤–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
- `state_prefix` - –ü—Ä–µ—Ñ–∏–∫—Å –¥–ª—è Redis state
- `headless` - –†–µ–∂–∏–º –±—Ä–∞—É–∑–µ—Ä–∞ (true/false)
- `retries` - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ø—ã—Ç–æ–∫ –ø—Ä–∏ –æ—à–∏–±–∫–µ
- `proxyFile` - –ü—É—Ç—å –∫ —Ñ–∞–π–ª—É —Å –ø—Ä–æ–∫—Å–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- `proxyRotation` - –°—Ç—Ä–∞—Ç–µ–≥–∏—è —Ä–æ—Ç–∞—Ü–∏–∏ –ø—Ä–æ–∫—Å–∏: `random` | `sequential`
- `retryOnStatusCodes` - HTTP –∫–æ–¥—ã –¥–ª—è retry (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: [429, 503, 403])
- `userAgents` - –°–ø–∏—Å–æ–∫ User-Agent –¥–ª—è —Ä–æ—Ç–∞—Ü–∏–∏
- `userAgentRotation` - –°—Ç—Ä–∞—Ç–µ–≥–∏—è —Ä–æ—Ç–∞—Ü–∏–∏ UA: `random` | `sequential`
- `pagination` - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–∞–≥–∏–Ω–∞—Ü–∏–∏
- `selectors` - CSS —Å–µ–ª–µ–∫—Ç–æ—Ä—ã –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
- `incremental` - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω–æ–≥–æ –ø–∞—Ä—Å–∏–Ω–≥–∞
- `details` - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ó–∞–ø—É—Å–∫ –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –∫–æ–Ω—Ñ–∏–≥–∞:

```bash
node dist/index.js crawl-configs/concert.ua/kyiv/concerts/config.json
```

### –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö –∫–æ–Ω—Ñ–∏–≥–æ–≤ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ:

```bash
./run-concert-crawlers.sh
```

### –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö –∫–æ–Ω—Ñ–∏–≥–æ–≤ –∏–∑ –ø–∞–ø–∫–∏:

```bash
node dist/index.js crawl-configs/concert.ua/kyiv/
```

## ‚ûï –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏

1. –°–æ–∑–¥–∞–π—Ç–µ –ø–∞–ø–∫—É –¥–ª—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –≤ `crawl-configs/concert.ua/kyiv/`
2. –°–æ–∑–¥–∞–π—Ç–µ `config.json` –≤ –Ω–æ–≤–æ–π –ø–∞–ø–∫–µ
3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∫–æ–Ω—Ñ–∏–≥–∏ –∫–∞–∫ —à–∞–±–ª–æ–Ω
4. –û–±–Ω–æ–≤–∏—Ç–µ –ø–æ–ª—è:
   - `url` - URL –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
   - `category_name` - –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
   - `state_prefix` - —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –ø—Ä–µ—Ñ–∏–∫—Å –¥–ª—è Redis
5. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥
6. –°–∫—Ä–∏–ø—Ç `run-concert-crawlers.sh` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥—Ö–≤–∞—Ç–∏—Ç –Ω–æ–≤—ã–π –∫–æ–Ω—Ñ–∏–≥

## üìù –ü—Ä–∏–º–µ—Ä—ã

### –ó–∞–ø—É—Å–∫ —Ç–æ–ª—å–∫–æ –∫–æ–Ω—Ü–µ—Ä—Ç–æ–≤:

```bash
node dist/index.js crawl-configs/concert.ua/kyiv/concerts/config.json
```

### –ó–∞–ø—É—Å–∫ —Ç–æ–ª—å–∫–æ —Ç–µ–∞—Ç—Ä–∞:

```bash
node dist/index.js crawl-configs/concert.ua/kyiv/theater/config.json
```

### –ó–∞–ø—É—Å–∫ —Ç–æ–ª—å–∫–æ –¥–µ—Ç—Å–∫–∏—Ö —Å–æ–±—ã—Ç–∏–π:

```bash
node dist/index.js crawl-configs/concert.ua/kyiv/kids/config.json
```

## üìä –õ–æ–≥–∏

–ö–∞–∂–¥–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è –∏–º–µ–µ—Ç —Å–≤–æ–π –ª–æ–≥ —Ñ–∞–π–ª –≤ `~/.crawler-logs/`:

- `business.log` - –±—ñ–∑–Ω–µ—Å –ø–æ–¥—ñ—ó
- `concerts.log` - –∫–æ–Ω—Ü–µ—Ä—Ç–∏
- `dance.log` - —Ç–∞–Ω—Ü—ñ
- `electronic.log` - –µ–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞ –º—É–∑–∏–∫–∞
- ... –∏ —Ç.–¥.

–û–±—â–∏–π –ª–æ–≥ —Å–∫—Ä–∏–ø—Ç–∞: `~/.crawler-logs/crawler-runner.log`
