# ===========================================
# DATABASE CONFIGURATION
# ===========================================
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_DB=concierge
POSTGRES_PORT=5432
POSTGRES_HOST=127.0.0.1

# Database Backup Configuration
# Cron schedule for automatic backups (default: 0 2 * * * = daily at 2:00 AM)
BACKUP_SCHEDULE=0 2 * * *
# Number of days to keep backups before automatic deletion
BACKUP_RETENTION_DAYS=30

# ===========================================
# PGADMIN CONFIGURATION
# ===========================================
PGADMIN_DEFAULT_EMAIL=admin@example.com
PGADMIN_DEFAULT_PASSWORD=admin
PGADMIN_PORT=5050

# ===========================================
# RABBITMQ CONFIGURATION
# ===========================================
# Default matches docker-compose rabbitmq env (admin/admin123)
RABBITMQ_URL=amqp://admin:admin123@localhost:5672
RABBITMQ_QUEUE=events

# Consumer settings (API)
RABBITMQ_PREFETCH=100
CONSUMER_BATCH_SIZE=100
CONSUMER_FLUSH_MS=200

# ===========================================
# REDIS CONFIGURATION
# ===========================================
REDIS_URL=redis://localhost:6379
# Optional override for state prefix key namespace
# STATE_PREFIX=concert.ua
# Redis используется для:
# - Web-crawler: хранение состояния инкрементального парсинга
# - Bot: хранение сессий пользователей (TTL: 24 часа)

# ===========================================
# CRAWLER CONFIGURATION
# ===========================================
# Set to 'true' to also save scraped rows to outputFile (e.g., products.json)
CRAWLER_SAVE_OUTPUT=false

# Publisher batching settings
PUBLISHER_BATCH_SIZE=50
PUBLISHER_BATCH_INTERVAL_MS=200
PUBLISHER_MAX_RETRIES=3
PUBLISHER_RECONNECT_DELAY_MS=1000

# ===========================================
# TELEGRAM CONFIGURATION
# ===========================================
# Bot token for main concierge bot
# TELEGRAM_BOT_TOKEN=123456789:ABCDEF...

# Bot token for crawler/tracker notifications
# TELEGRAM_TRACKER_TOKEN=987654321:GHIJKL...

# Chat ID for notifications (used by tracker)
# TELEGRAM_CHAT_ID=123456789

# Base URL for building absolute links from relative source_url
# Example: https://concert.ua
# SOURCE_BASE_URL=https://example.com

# Cron expression for daily digest (default: 0 8 * * * = 8:00 UTC = 10:00 Kiev)
# Format: секунды минуты часы день месяц день_недели
# Examples:
#   0 8 * * * - каждый день в 8:00 UTC (10:00 Kiev)
#   0 10 * * * - каждый день в 10:00 UTC (12:00 Kiev)
#   0 6 * * 1-5 - по будням в 6:00 UTC (8:00 Kiev)
# DIGEST_CRON=0 8 * * *

# ===========================================
# API AND TRACKING (Crawler)
# ===========================================
# Base URL of the API used by web-crawler to post tracking
# API_BASE_URL=http://localhost:3000
# Enable/disable Telegram tracking from crawler (true/false)
# TELEGRAM_TRACKING=false